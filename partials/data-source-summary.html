<div cg-busy="{promise:allLoader,message:'Loading..'}" class="spinner"></div>
<div class="do-data-source-summery" >
	<div class="row">
		<div class="col-sm-10">
			<div ng-include src="'partials/heading-checkbox-control.html'"></div>
			<div class="row">
				<div class="col-sm-12 data-dash-left status-panel">
					<div ng-include src="'partials/data-statistics.html'"></div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12">
					<div class="pull-left">
						<h3>Data Source List</h3>
					</div>
					<div class="pull-right">
						<button type="button" class="btn btn-primary dropdown-toggle" ng-click="open('md')" style="margin-top:12px;">
							Add Data Source
						</button>
						<a class="btn btn-primary dropdown-toggle" href="#policyConfig" style="margin-top:12px;">Add Policy</a>
					</div>
					<br />
					<br />
					<br />
				</div>
				<div class="col-sm-12">
					<div>
						<table class="table table-striped" >
							<colgroup>
								<col width="20%">
								<col width="20%">
								<col width="20%">
								<col width="20%">
								<col width="20%">
							</colgroup>
							<thead>
								<tr>
									<th>Data Source Name <span class="caret"></span></th>
									<th>Data Source Type <span class="caret"></span></th>
									<th>Object Count <span class="caret"></span></th>
									<th>Policy Count<span class="caret"></span></th>
									<th>Total Schedule Count <span class="caret"></span></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="sourceType in sourceTypes " >
									<td><a href="#dataSourceDetails/{{sourceType.agtype}}/{{sourceType.app_instance_id}}/{{sourceType.shard_id}}">{{sourceType.app_instance_id}}</a></td>
									<td>{{language[sourceType.agtype]}}</td>
									<td>{{datasourcesForInstance[sourceType.app_instance_id].length}}</td>
									<td>{{policyCountsInstance[sourceType.app_instance_id] ? policyCountsInstance[sourceType.app_instance_id] : 0}}</td>
									<td>{{instanceSchedules[sourceType.app_instance_id] ? instanceSchedules[sourceType.app_instance_id].length : 0}}</td>
								</tr>
							</tbody>
							<!-- <tfoot>
							<tr>
							<td colspan="6">
							<div class="pager-wrapper">
							<pagination total-items="totalItems" ng-model="currentPage" ng-change="pageChanged()"  previous-text="&laquo;" next-text="&raquo;" ></pagination>
							</div></td>
							</tr>
							</tfoot> -->
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="col-sm-2 do-alerts-wrapper pull-right">
			<!-- Alert content added -->
			<div ng-include src="'partials/data-source-alerts.html'"></div>
		</div>
	</div>
</div>
<!-- modal popup content2 -->
<modal title="Summary of Restore Points" class="modal-summary-restore"  visible="showModal">
	<div class="desc">
		Data Source: data Source 5 | Policy: ABC | total Restore Points: 18
	</div>
	<div class="corner-tabs" style="float:right;margin-top:-17px;">
		<ul>
			<li class="active">
				<a href="javascript:void(0)">Chart</a>
			</li>
			<li>
				<a href="javascript:void(0)">Grid</a>
			</li>
		</ul>
	</div>
	<div class="clearfix"></div>
	<div class="table1" style="height:450px;overflow-y:scroll;margin-top:24px;border:1px solid #c4c5c6;">
		<table  class="table table-striped table-condensed table-hover">
			<thead>
				<tr style="background:#edefec; height:48px;color:#464646;line-height:28px;font-size:16px;">
					<th class="points"><a href="javascript:void(0)" ng-click="orderByField='points'; reverseSort = !reverseSort" > Points <span ng-show="orderByField == 'points'"><span ng-show="!reverseSort">^</span><span ng-show="reverseSort">v</span></span> </a></th>
					<th class="createdOn"><a href="javascript:void(0)" ng-click="orderByField='createdOn'; reverseSort = !reverseSort"> Created On<span ng-show="orderByField == 'createdOn'"><span ng-show="!reverseSort">^</span><span ng-show="reverseSort">v</span></span> </a></th>
					<th class="totalSize"><a href="javascript:void(0)" ng-click="orderByField='totalSize'; reverseSort = !reverseSort"> Total Size <span ng-show="orderByField == 'totalSize'"><span ng-show="!reverseSort">^</span><span ng-show="reverseSort">v</span></span> </a></th>
					<th class="checkSum"><a href="javascript:void(0)" ng-click="orderByField='checkSum'; reverseSort = !reverseSort"> check Sum <span ng-show="orderByField == 'checkSum'"><span ng-show="!reverseSort">^</span><span ng-show="reverseSort">v</span></span> </a></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="row in restorePointsGrid | orderBy:orderByField:reverseSort">
					<td><span>{{row.a}}</span></td>
					<td><span>{{row.b}}</span></td>
					<td><span>{{row.c}}</span></td>
					<td><span>{{row.d}}</span></td>
				</tr>
			</tbody>
		</table>
	</div>
</modal>
<script>
	/*$('document').ready(function() {
	 $(".do-res-timeline .dock ul li a").hover(function() {
	 $(".do-res-timeline .dock ul li a").removeClass('active');
	 });
	 });*/
</script>
<script type="text/ng-template" id="addDataSourceModal.html">
	<div ng-include src="'partials/add-data-source.html'"></div>
</script>
<script>
	$('document').ready(function() {
		// Error message plugIn
		toastr.options = {
			closeButton : true,
			debug : false,
			progressBar : true,
			positionClass : "toast-top-right",
			preventDuplicates : false,
			onclick : null,
			showDuration : "300",
			hideDuration : "1000",
			timeOut : "5000",
			extendedTimeOut : "1000",
			showEasing : "swing",
			hideEasing : "linear",
			showMethod : "fadeIn",
			hideMethod : "fadeOut"
		};
	});

</script>
